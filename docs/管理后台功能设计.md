# ç®¡ç†åå°åŠŸèƒ½è®¾è®¡æ–‡æ¡£

## æ¦‚è¿°

ç®¡ç†åå°æ˜¯å®¶é•¿ç«¯çš„æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼Œæä¾›å…¨é¢çš„ç®¡ç†å·¥å…·æ¥ç®¡ç†å°æœ‹å‹ã€é…ç½®å¥–åŠ±è§„åˆ™ã€æŸ¥çœ‹æ•°æ®åˆ†æç­‰ã€‚æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜ç®¡ç†åå°çš„åŠŸèƒ½è®¾è®¡ã€ç•Œé¢å¸ƒå±€å’ŒæŠ€æœ¯å®ç°ã€‚

## åŠŸèƒ½æ¶æ„

### 1. ä»ªè¡¨ç›˜ï¼ˆDashboardï¼‰

#### æ•°æ®æ¦‚è§ˆå¡ç‰‡
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ€»æ˜Ÿæ˜Ÿæ•°       â”‚  æœ¬å‘¨æ–°å¢       â”‚  å¾…å…‘æ¢å¥–å“     â”‚  æ´»è·ƒå°æœ‹å‹     â”‚
â”‚    1,250        â”‚    +85          â”‚     3           â”‚     4/5         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å¿«é€Ÿæ“ä½œé¢æ¿
- **ä¸€é”®åŠ æ˜Ÿ**: å¿«é€Ÿç»™è¡¨ç°å¥½çš„å°æœ‹å‹åŠ æ˜Ÿ
- **æ‰¹é‡æ“ä½œ**: åŒæ—¶ç»™å¤šä¸ªå°æœ‹å‹æ“ä½œ
- **å¿«é€Ÿå…‘æ¢**: å¤„ç†å¾…å…‘æ¢çš„å¥–å“
- **åˆ›å»ºä»»åŠ¡**: å¿«é€Ÿåˆ›å»ºæ–°çš„ä»»åŠ¡æˆ–é¡¹ç›®

#### å®æ—¶åŠ¨æ€
- æœ€è¿‘çš„æ˜Ÿæ˜Ÿå˜åŠ¨è®°å½•
- å¾…å¤„ç†çš„å…‘æ¢è¯·æ±‚
- ç³»ç»Ÿé€šçŸ¥å’Œæé†’
- å°æœ‹å‹çš„æœ€æ–°åŠ¨æ€

#### æ•°æ®å›¾è¡¨
- æ˜Ÿæ˜Ÿå˜åŒ–è¶‹åŠ¿å›¾ï¼ˆå‘¨/æœˆè§†å›¾ï¼‰
- å°æœ‹å‹è¡¨ç°å¯¹æ¯”å›¾
- é¡¹ç›®ä½¿ç”¨é¢‘ç‡ç»Ÿè®¡
- å¥–å“å…‘æ¢ç»Ÿè®¡

### 2. å°æœ‹å‹ç®¡ç†

#### åˆ—è¡¨è§†å›¾
```typescript
interface ChildListView {
  id: number
  name: string
  avatar: string
  age: number
  starCount: number
  weeklyChange: number  // æœ¬å‘¨å˜åŒ–
  lastActive: Date      // æœ€åæ´»åŠ¨æ—¶é—´
  status: 'active' | 'inactive'
  tags: string[]        // æ ‡ç­¾ï¼ˆä¼˜ç§€ã€è¿›æ­¥ä¸­ç­‰ï¼‰
}
```

#### è¯¦ç»†ä¿¡æ¯ç®¡ç†
- **åŸºæœ¬ä¿¡æ¯ç¼–è¾‘**
  - å§“åã€ç”Ÿæ—¥ã€æ€§åˆ«
  - å¤´åƒä¸Šä¼ å’Œè£å‰ª
  - ä¸ªæ€§æ ‡ç­¾è®¾ç½®
  - ç™»å½•æƒé™é…ç½®

- **ç›®æ ‡è®¾ç½®**
  - æ¯æ—¥/æ¯å‘¨æ˜Ÿæ˜Ÿç›®æ ‡
  - é‡ç‚¹æ”¹è¿›é¡¹ç›®
  - å¥–åŠ±é‡Œç¨‹ç¢‘è®¾ç½®
  - è‡ªå®šä¹‰æˆå°±ç›®æ ‡

- **è¡Œä¸ºè§„åˆ™é…ç½®**
  - ä¸“å±åŠ åˆ†/æ‰£åˆ†è§„åˆ™
  - ç‰¹æ®Šå¥–åŠ±æ¡ä»¶
  - è¡Œä¸ºçº¢çº¿è®¾ç½®
  - è‡ªåŠ¨æé†’è§„åˆ™

#### æ‰¹é‡ç®¡ç†åŠŸèƒ½
```vue
<template>
  <div class="bulk-actions">
    <el-button @click="selectAll">å…¨é€‰</el-button>
    <el-button @click="bulkAddStars">æ‰¹é‡åŠ æ˜Ÿ</el-button>
    <el-button @click="bulkSetGoals">è®¾ç½®ç›®æ ‡</el-button>
    <el-button @click="bulkExport">å¯¼å‡ºæ•°æ®</el-button>
    
    <el-table :data="children" @selection-change="handleSelectionChange">
      <el-table-column type="selection" width="55" />
      <el-table-column prop="name" label="å§“å" />
      <el-table-column prop="starCount" label="æ˜Ÿæ˜Ÿæ•°" sortable />
      <el-table-column label="æœ¬å‘¨è¡¨ç°">
        <template #default="{row}">
          <el-progress :percentage="row.weeklyProgress" />
        </template>
      </el-table-column>
      <el-table-column label="æ“ä½œ">
        <template #default="{row}">
          <el-button-group>
            <el-button icon="Plus" @click="quickAddStar(row)" />
            <el-button icon="Edit" @click="editChild(row)" />
            <el-button icon="View" @click="viewDetails(row)" />
          </el-button-group>
        </template>
      </el-table-column>
    </el-table>
  </div>
</template>
```

### 3. é¡¹ç›®ç®¡ç†ç³»ç»Ÿ

#### é¡¹ç›®åˆ†ç±»
```typescript
interface ProjectCategory {
  id: string
  name: string
  icon: string
  color: string
  projects: Project[]
}

const categories: ProjectCategory[] = [
  { id: 'study', name: 'å­¦ä¹ ', icon: 'ğŸ“š', color: '#4CAF50' },
  { id: 'life', name: 'ç”Ÿæ´»', icon: 'ğŸ ', color: '#2196F3' },
  { id: 'sport', name: 'è¿åŠ¨', icon: 'âš½', color: '#FF9800' },
  { id: 'social', name: 'ç¤¾äº¤', icon: 'ğŸ‘¥', color: '#9C27B0' },
  { id: 'custom', name: 'è‡ªå®šä¹‰', icon: 'â­', color: '#607D8B' }
]
```

#### é¡¹ç›®é…ç½®ç•Œé¢
```vue
<template>
  <div class="project-config">
    <!-- é¡¹ç›®åˆ›å»ºè¡¨å• -->
    <el-form :model="projectForm" :rules="rules">
      <el-form-item label="é¡¹ç›®åç§°" prop="name">
        <el-input v-model="projectForm.name" placeholder="å¦‚ï¼šå®Œæˆä½œä¸š" />
      </el-form-item>
      
      <el-form-item label="é¡¹ç›®ç±»å‹">
        <el-radio-group v-model="projectForm.type">
          <el-radio label="add">åŠ åˆ†é¡¹ç›®</el-radio>
          <el-radio label="subtract">æ‰£åˆ†é¡¹ç›®</el-radio>
        </el-radio-group>
      </el-form-item>
      
      <el-form-item label="åˆ†å€¼">
        <el-input-number 
          v-model="projectForm.value" 
          :min="1" 
          :max="20" 
        />
      </el-form-item>
      
      <el-form-item label="æ‰€å±åˆ†ç±»">
        <el-select v-model="projectForm.category">
          <el-option 
            v-for="cat in categories"
            :key="cat.id"
            :label="cat.name"
            :value="cat.id"
          >
            <span>{{ cat.icon }} {{ cat.name }}</span>
          </el-option>
        </el-select>
      </el-form-item>
      
      <el-form-item label="é€‚ç”¨å¯¹è±¡">
        <el-checkbox-group v-model="projectForm.applicableChildren">
          <el-checkbox 
            v-for="child in children"
            :key="child.id"
            :label="child.id"
          >
            {{ child.name }}
          </el-checkbox>
        </el-checkbox-group>
      </el-form-item>
      
      <el-form-item label="é‡å¤è§„åˆ™">
        <el-select v-model="projectForm.repeatRule">
          <el-option label="ä¸é™åˆ¶" value="unlimited" />
          <el-option label="æ¯å¤©ä¸€æ¬¡" value="daily" />
          <el-option label="æ¯å‘¨ä¸€æ¬¡" value="weekly" />
          <el-option label="æ¯æœˆä¸€æ¬¡" value="monthly" />
        </el-select>
      </el-form-item>
      
      <el-form-item label="æœ‰æ•ˆæœŸ">
        <el-date-picker
          v-model="projectForm.validPeriod"
          type="daterange"
          range-separator="è‡³"
          start-placeholder="å¼€å§‹æ—¥æœŸ"
          end-placeholder="ç»“æŸæ—¥æœŸ"
        />
      </el-form-item>
      
      <el-form-item label="è‡ªåŠ¨è§¦å‘">
        <el-switch v-model="projectForm.autoTrigger" />
        <el-input 
          v-if="projectForm.autoTrigger"
          v-model="projectForm.triggerCondition"
          placeholder="è§¦å‘æ¡ä»¶æè¿°"
        />
      </el-form-item>
    </el-form>
  </div>
</template>
```

#### é¡¹ç›®ä½¿ç”¨ç»Ÿè®¡
- ä½¿ç”¨é¢‘ç‡æ’è¡Œ
- æ•ˆæœåˆ†æï¼ˆæ¿€åŠ±æ•ˆæœè¯„ä¼°ï¼‰
- å°æœ‹å‹åå¥½åˆ†æ
- é¡¹ç›®ä¼˜åŒ–å»ºè®®

### 4. å¥–å“ç®¡ç†

#### å¥–å“åº“ç®¡ç†
```typescript
interface Reward {
  id: number
  name: string
  image: string
  category: 'toy' | 'food' | 'activity' | 'privilege' | 'other'
  requiredStars: number
  stock?: number  // åº“å­˜ï¼ˆå®ç‰©å¥–å“ï¼‰
  validUntil?: Date  // æœ‰æ•ˆæœŸ
  description: string
  applicableChildren: number[]
  redeemLimit?: number  // å…‘æ¢æ¬¡æ•°é™åˆ¶
  redeemInterval?: 'daily' | 'weekly' | 'monthly'  // å…‘æ¢é—´éš”
}
```

#### å¥–å“åˆ›å»ºå‘å¯¼
1. **é€‰æ‹©å¥–å“ç±»å‹**
   - å®ç‰©å¥–å“ï¼ˆéœ€è¦åº“å­˜ç®¡ç†ï¼‰
   - è™šæ‹Ÿå¥–å“ï¼ˆå¦‚æ¸¸æˆæ—¶é—´ï¼‰
   - æ´»åŠ¨å¥–å“ï¼ˆå¦‚å»æ¸¸ä¹å›­ï¼‰
   - ç‰¹æƒå¥–å“ï¼ˆå¦‚æ™šç¡åŠå°æ—¶ï¼‰

2. **è®¾ç½®å…‘æ¢è§„åˆ™**
   - æ‰€éœ€æ˜Ÿæ˜Ÿæ•°
   - å…‘æ¢æ¡ä»¶ï¼ˆå¦‚éœ€è¦å®Œæˆç‰¹å®šä»»åŠ¡ï¼‰
   - å…‘æ¢é™åˆ¶ï¼ˆæ¬¡æ•°ã€æ—¶é—´é—´éš”ï¼‰
   - æœ‰æ•ˆæœŸè®¾ç½®

3. **é…ç½®å±•ç¤ºæ–¹å¼**
   - ä¸Šä¼ å¥–å“å›¾ç‰‡
   - ç¼–å†™å¸å¼•äººçš„æè¿°
   - è®¾ç½®å±•ç¤ºä¼˜å…ˆçº§
   - æ·»åŠ åŠ¨ç”»æ•ˆæœ

#### å…‘æ¢è¯·æ±‚å¤„ç†
```vue
<template>
  <div class="redeem-requests">
    <el-alert v-if="pendingRequests.length > 0" type="warning">
      æ‚¨æœ‰ {{ pendingRequests.length }} ä¸ªå¾…å¤„ç†çš„å…‘æ¢è¯·æ±‚
    </el-alert>
    
    <el-card v-for="request in pendingRequests" :key="request.id">
      <div class="request-info">
        <img :src="request.reward.image" class="reward-thumb">
        <div class="details">
          <h4>{{ request.child.name }} æƒ³è¦å…‘æ¢ {{ request.reward.name }}</h4>
          <p>éœ€è¦ {{ request.reward.requiredStars }} é¢—æ˜Ÿæ˜Ÿ</p>
          <p>å½“å‰æ‹¥æœ‰ {{ request.child.starCount }} é¢—æ˜Ÿæ˜Ÿ</p>
        </div>
      </div>
      
      <div class="actions">
        <el-button type="success" @click="approveRedeem(request)">
          æ‰¹å‡†å…‘æ¢
        </el-button>
        <el-button type="warning" @click="negotiateRedeem(request)">
          åå•†
        </el-button>
        <el-button type="danger" @click="rejectRedeem(request)">
          æ‹’ç»
        </el-button>
      </div>
    </el-card>
  </div>
</template>
```

### 5. æ•°æ®åˆ†æä¸­å¿ƒ

#### æŠ¥è¡¨ç±»å‹
1. **æ—¥æŠ¥**
   - æ¯æ—¥æ˜Ÿæ˜Ÿå˜åŠ¨æ±‡æ€»
   - é¡¹ç›®å®Œæˆæƒ…å†µ
   - å°æœ‹å‹æ´»è·ƒåº¦
   - å¼‚å¸¸è¡Œä¸ºæé†’

2. **å‘¨æŠ¥**
   - ä¸€å‘¨è¡¨ç°æ€»ç»“
   - ç›®æ ‡è¾¾æˆç‡
   - è¿›æ­¥è¶‹åŠ¿åˆ†æ
   - ä¸‹å‘¨å»ºè®®

3. **æœˆæŠ¥**
   - æœˆåº¦æˆé•¿æŠ¥å‘Š
   - æ¨ªå‘å¯¹æ¯”åˆ†æ
   - å¥–å“å…‘æ¢ç»Ÿè®¡
   - è¡Œä¸ºæ¨¡å¼åˆ†æ

#### å¯è§†åŒ–å›¾è¡¨
```javascript
// ä½¿ç”¨ ECharts å®ç°æ•°æ®å¯è§†åŒ–
const chartOptions = {
  // æ˜Ÿæ˜Ÿè¶‹åŠ¿å›¾
  starTrend: {
    type: 'line',
    smooth: true,
    data: {
      xAxis: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
      series: [
        { name: 'å°æ˜', data: [10, 15, 13, 18, 20, 17, 22] },
        { name: 'å°çº¢', data: [8, 12, 14, 16, 15, 19, 21] }
      ]
    }
  },
  
  // è¡Œä¸ºåˆ†å¸ƒé¥¼å›¾
  behaviorDistribution: {
    type: 'pie',
    data: [
      { name: 'å­¦ä¹ ', value: 45 },
      { name: 'ç”Ÿæ´»', value: 30 },
      { name: 'è¿åŠ¨', value: 15 },
      { name: 'ç¤¾äº¤', value: 10 }
    ]
  },
  
  // å°æœ‹å‹å¯¹æ¯”é›·è¾¾å›¾
  childComparison: {
    type: 'radar',
    indicator: [
      { name: 'å­¦ä¹ ', max: 100 },
      { name: 'è¿åŠ¨', max: 100 },
      { name: 'ç¤¾äº¤', max: 100 },
      { name: 'ç”Ÿæ´»', max: 100 },
      { name: 'åˆ›é€ åŠ›', max: 100 }
    ],
    series: [
      { name: 'å°æ˜', value: [90, 70, 85, 80, 75] },
      { name: 'å°çº¢', value: [85, 80, 75, 90, 88] }
    ]
  }
}
```

### 6. ç³»ç»Ÿè®¾ç½®

#### å…¨å±€é…ç½®
- **ç§¯åˆ†è§„åˆ™**
  - é»˜è®¤åŠ åˆ†/æ‰£åˆ†å€¼
  - æ¯æ—¥æ˜Ÿæ˜Ÿä¸Šé™
  - è´Ÿåˆ†å¤„ç†ç­–ç•¥
  - ç§¯åˆ†è¿‡æœŸè§„åˆ™

- **é€šçŸ¥è®¾ç½®**
  - é‚®ä»¶é€šçŸ¥é…ç½®
  - æ¨é€é€šçŸ¥è®¾ç½®
  - æé†’è§„åˆ™å®šåˆ¶
  - æŠ¥è¡¨å‘é€è®¡åˆ’

- **ç•Œé¢å®šåˆ¶**
  - ä¸»é¢˜é¢œè‰²é€‰æ‹©
  - Logoä¸Šä¼ 
  - æ¬¢è¿è¯­è®¾ç½®
  - å£°éŸ³æ•ˆæœå¼€å…³

#### æƒé™ç®¡ç†
```typescript
interface Permission {
  id: string
  name: string
  description: string
  module: string
  actions: ('create' | 'read' | 'update' | 'delete')[]
}

interface Role {
  id: string
  name: string
  permissions: Permission[]
  isCustom: boolean
}

// é¢„è®¾è§’è‰²
const presetRoles: Role[] = [
  {
    id: 'super_admin',
    name: 'è¶…çº§ç®¡ç†å‘˜',
    permissions: allPermissions,
    isCustom: false
  },
  {
    id: 'parent',
    name: 'å®¶é•¿',
    permissions: parentPermissions,
    isCustom: false
  },
  {
    id: 'assistant',
    name: 'åŠ©æ‰‹',
    permissions: assistantPermissions,
    isCustom: false
  }
]
```

## æŠ€æœ¯å®ç°

### 1. åç«¯æ¶æ„

#### ç®¡ç†APIè®¾è®¡
```python
from fastapi import APIRouter, Depends
from typing import List

router = APIRouter(prefix="/api/admin", tags=["admin"])

@router.get("/dashboard/stats")
@require_role([UserRole.PARENT, UserRole.ADMIN])
async def get_dashboard_stats(
    current_user: User = Depends(get_current_user),
    db: Session = Depends(get_db)
):
    """è·å–ä»ªè¡¨ç›˜ç»Ÿè®¡æ•°æ®"""
    stats = {
        "total_stars": get_total_stars(db, current_user),
        "weekly_change": get_weekly_change(db, current_user),
        "pending_rewards": get_pending_rewards(db, current_user),
        "active_children": get_active_children(db, current_user),
        "recent_activities": get_recent_activities(db, current_user)
    }
    return stats

@router.post("/projects")
@require_role([UserRole.PARENT, UserRole.ADMIN])
async def create_project(
    project: ProjectCreate,
    current_user: User = Depends(get_current_user),
    db: Session = Depends(get_db)
):
    """åˆ›å»ºæ–°é¡¹ç›®"""
    db_project = Project(
        **project.dict(),
        created_by=current_user.id
    )
    db.add(db_project)
    db.commit()
    return db_project

@router.get("/reports/{report_type}")
@require_role([UserRole.PARENT, UserRole.ADMIN])
async def generate_report(
    report_type: str,
    date_range: DateRange,
    current_user: User = Depends(get_current_user),
    db: Session = Depends(get_db)
):
    """ç”ŸæˆæŠ¥è¡¨"""
    report = ReportGenerator(db, current_user)
    
    if report_type == "daily":
        return report.generate_daily_report(date_range.date)
    elif report_type == "weekly":
        return report.generate_weekly_report(date_range.start_date)
    elif report_type == "monthly":
        return report.generate_monthly_report(date_range.year, date_range.month)
    else:
        raise HTTPException(status_code=400, detail="Invalid report type")
```

#### æ•°æ®èšåˆæœåŠ¡
```python
class DataAggregationService:
    """æ•°æ®èšåˆæœåŠ¡"""
    
    def __init__(self, db: Session):
        self.db = db
    
    def get_star_trends(self, child_ids: List[int], days: int = 7):
        """è·å–æ˜Ÿæ˜Ÿè¶‹åŠ¿æ•°æ®"""
        end_date = datetime.now()
        start_date = end_date - timedelta(days=days)
        
        trends = self.db.query(
            StarRecord.child_id,
            func.date(StarRecord.created_at).label('date'),
            func.sum(StarRecord.amount).label('total')
        ).filter(
            StarRecord.child_id.in_(child_ids),
            StarRecord.created_at.between(start_date, end_date)
        ).group_by(
            StarRecord.child_id,
            func.date(StarRecord.created_at)
        ).all()
        
        return self._format_trends(trends, child_ids, days)
    
    def get_project_statistics(self, user_id: int):
        """è·å–é¡¹ç›®ä½¿ç”¨ç»Ÿè®¡"""
        projects = self.db.query(Project).filter(
            Project.created_by == user_id
        ).all()
        
        stats = []
        for project in projects:
            usage_count = self.db.query(StarRecord).filter(
                StarRecord.project_id == project.id
            ).count()
            
            stats.append({
                "project": project,
                "usage_count": usage_count,
                "total_stars": self._calculate_total_stars(project.id),
                "effectiveness": self._calculate_effectiveness(project.id)
            })
        
        return sorted(stats, key=lambda x: x['usage_count'], reverse=True)
```

### 2. å‰ç«¯å®ç°

#### ç®¡ç†åå°è·¯ç”±ç»“æ„
```typescript
// router/admin.ts
const adminRoutes = [
  {
    path: '/admin',
    component: AdminLayout,
    meta: { requiresAuth: true, roles: ['parent', 'admin'] },
    children: [
      {
        path: '',
        name: 'Dashboard',
        component: () => import('@/views/admin/Dashboard.vue')
      },
      {
        path: 'children',
        name: 'ChildrenManagement',
        component: () => import('@/views/admin/ChildrenManagement.vue')
      },
      {
        path: 'children/:id',
        name: 'ChildDetail',
        component: () => import('@/views/admin/ChildDetail.vue')
      },
      {
        path: 'projects',
        name: 'ProjectsManagement',
        component: () => import('@/views/admin/ProjectsManagement.vue')
      },
      {
        path: 'rewards',
        name: 'RewardsManagement',
        component: () => import('@/views/admin/RewardsManagement.vue')
      },
      {
        path: 'analytics',
        name: 'Analytics',
        component: () => import('@/views/admin/Analytics.vue')
      },
      {
        path: 'settings',
        name: 'Settings',
        component: () => import('@/views/admin/Settings.vue')
      }
    ]
  }
]
```

#### çŠ¶æ€ç®¡ç†
```typescript
// store/admin.ts
import { defineStore } from 'pinia'

export const useAdminStore = defineStore('admin', {
  state: () => ({
    dashboardStats: null,
    children: [],
    projects: [],
    rewards: [],
    pendingRequests: [],
    reports: {}
  }),
  
  actions: {
    async fetchDashboardStats() {
      const stats = await api.get('/admin/dashboard/stats')
      this.dashboardStats = stats
    },
    
    async createProject(project: ProjectCreate) {
      const newProject = await api.post('/admin/projects', project)
      this.projects.push(newProject)
      return newProject
    },
    
    async approveRedemption(requestId: number) {
      await api.post(`/admin/redemptions/${requestId}/approve`)
      this.pendingRequests = this.pendingRequests.filter(
        r => r.id !== requestId
      )
    },
    
    async generateReport(type: string, dateRange: DateRange) {
      const report = await api.get(`/admin/reports/${type}`, {
        params: dateRange
      })
      this.reports[type] = report
      return report
    }
  }
})
```

### 3. å®æ—¶æ•°æ®æ›´æ–°

#### WebSocketé›†æˆ
```typescript
// services/websocket.ts
class AdminWebSocket {
  private ws: WebSocket
  private reconnectInterval: number = 5000
  
  connect(userId: number) {
    this.ws = new WebSocket(`ws://localhost:8000/ws/admin/${userId}`)
    
    this.ws.onmessage = (event) => {
      const data = JSON.parse(event.data)
      this.handleMessage(data)
    }
    
    this.ws.onerror = () => {
      setTimeout(() => this.connect(userId), this.reconnectInterval)
    }
  }
  
  handleMessage(data: any) {
    switch(data.type) {
      case 'star_update':
        store.dispatch('updateChildStars', data.payload)
        break
      case 'new_redeem_request':
        store.dispatch('addPendingRequest', data.payload)
        this.showNotification('æ–°çš„å…‘æ¢è¯·æ±‚', data.payload.message)
        break
      case 'child_activity':
        store.dispatch('updateActivity', data.payload)
        break
    }
  }
  
  showNotification(title: string, message: string) {
    if (Notification.permission === 'granted') {
      new Notification(title, { body: message, icon: '/logo.png' })
    }
  }
}
```

## ç”¨æˆ·ä½“éªŒä¼˜åŒ–

### 1. å“åº”å¼è®¾è®¡
- æ¡Œé¢ç«¯ï¼šå®Œæ•´åŠŸèƒ½å±•ç¤º
- å¹³æ¿ç«¯ï¼šä¼˜åŒ–çš„è§¦æ§æ“ä½œ
- æ‰‹æœºç«¯ï¼šç²¾ç®€çš„æ ¸å¿ƒåŠŸèƒ½

### 2. å¿«æ·æ“ä½œ
- é”®ç›˜å¿«æ·é”®æ”¯æŒ
- æ‹–æ‹½æ’åºåŠŸèƒ½
- æ‰¹é‡é€‰æ‹©æ“ä½œ
- å³é”®èœå•

### 3. ä¸ªæ€§åŒ–è®¾ç½®
- è‡ªå®šä¹‰ä»ªè¡¨ç›˜å¸ƒå±€
- å¸¸ç”¨åŠŸèƒ½æ”¶è—
- ç•Œé¢ä¸»é¢˜åˆ‡æ¢
- æ•°æ®å±•ç¤ºåå¥½

## å®‰å…¨ä¸æƒé™

### 1. æ•°æ®æƒé™æ§åˆ¶
- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶(RBAC)
- æ•°æ®è¡Œçº§æƒé™
- æ“ä½œå®¡è®¡æ—¥å¿—
- æ•æ„Ÿæ“ä½œäºŒæ¬¡ç¡®è®¤

### 2. æ“ä½œé™åˆ¶
- æ‰¹é‡æ“ä½œæ•°é‡é™åˆ¶
- æ“ä½œé¢‘ç‡é™åˆ¶
- å¼‚å¸¸æ£€æµ‹æœºåˆ¶
- è‡ªåŠ¨é”å®šåŠŸèƒ½

## éƒ¨ç½²ä¸ç›‘æ§

### 1. æ€§èƒ½ç›‘æ§
- é¡µé¢åŠ è½½æ—¶é—´
- APIå“åº”æ—¶é—´
- æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½
- ç”¨æˆ·æ“ä½œè·¯å¾„

### 2. é”™è¯¯å¤„ç†
- å…¨å±€é”™è¯¯æ•è·
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
- é”™è¯¯æ—¥å¿—è®°å½•
- è‡ªåŠ¨é”™è¯¯ä¸ŠæŠ¥
